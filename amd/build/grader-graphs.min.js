'use strict';var _extends=Object.assign||function(a){for(var c,b=1;b<arguments.length;b++)for(var d in c=arguments[b],c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d]);return a};define(['block_ases/vendor-vuex','block_ases/grader-store'],function(a,b){var e={template:'\n    <div class="gridGraphs">\n        <canvas id="pie_passing_students" style="float:left" width="600" height="400"></canvas>\n        <canvas id="pie_grades" style="float:right" width="600" height="400"></canvas>\n        <canvas id="bar_grades" width="1400" height="350"></canvas>\n        <canvas id="grades_histogram" width="1400" height="350"></canvas>\n    </div>\n    ',computed:_extends({},a.mapState([]),a.mapGetters(['studentsCount','studentsAsesCount','passingGradesCount','failingGradesCount','nullGradesCount','finalGradesSet','finalPassingGradeSet','itemSet','itemOrderedNames','passingGradesSet','failingGradesSet','nullGradesSet','lineGraphLabel','getGradesByRange']),{itemNames:function itemNames(){for(names=[],itemlength=this.itemSet.length,i=0;i<itemlength;i++)names.push(this.itemSet[i].itemname);return names.push(itemlength),names},totalStudents:function totalStudents(){return{type:'pie',data:{datasets:[{data:[this.studentsCount-this.studentsAsesCount,this.studentsAsesCount],backgroundColor:['red','#bdf2bd']}],labels:['Estudiantes no afiliados a ASES','Estudiantes afiliados a ASES']},options:{}}},passingStudents:function passingStudents(){return{type:'pie',data:{datasets:[{data:[this.finalPassingGradeSet.length,this.finalGradesSet.length-this.finalPassingGradeSet.length],backgroundColor:['green','red']}],labels:['Estudiantes que pasan la materia','Estudiantes que no pasan la materia']},options:{responsive:!1,title:{display:!0,text:'Porcentaje de aprobacion de estudiantes'}}}},gradesReport:function gradesReport(){return{type:'pie',data:{datasets:[{data:[this.passingGradesCount,this.failingGradesCount,this.nullGradesCount],backgroundColor:['green','red','gray']}],labels:['Notas ganadas','Notas perdidas','Notas no calificadas']},options:{responsive:!1,title:{display:!0,text:'Estado general de notas'}}}},gradesInfo:function gradesInfo(){return{type:'bar',data:{labels:this.itemOrderedNames,datasets:[{label:'Notas ganadas',backgroundColor:'green',data:this.passingGradesSet},{label:'Notas perdidas',backgroundColor:'red',data:this.failingGradesSet},{label:'Notas no calificadas',backgroundColor:'gray',data:this.nullGradesSet}]},options:{title:{display:!0,text:'Porcentaje de aprobacion por calificacion'},barValueSpacing:20,scales:{yAxes:[{ticks:{min:0}}]}}}},gradesHistogramGraph:function gradesHistogramGraph(){return{type:'line',data:{labels:this.lineGraphLabel,datasets:[{data:this.getGradesByRange,label:'Notas finales',borderColor:'#3e95cd',fill:!0}]},options:{title:{display:!0,text:'Histograma de notas finales'}}}}}),mounted:function mounted(){this.$store.dispatch(b.actions.FETCH_STATE);var f=document.getElementById('pie_passing_students').getContext('2d'),g=new Chart(f,this.passingStudents),h=document.getElementById('pie_grades').getContext('2d'),j=new Chart(h,this.gradesReport),k=document.getElementById('bar_grades').getContext('2d'),l=new Chart(k,this.gradesInfo),m=document.getElementById('grades_histogram').getContext('2d'),n=new Chart(m,this.gradesHistogramGraph)}};return{component:e,name:'Graph'}});