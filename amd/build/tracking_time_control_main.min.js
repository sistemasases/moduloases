'use strict';define(['jquery','block_ases/bootstrap','block_ases/datatables.net','block_ases/sweetalert','block_ases/select2','block_ases/jqueryui','block_ases/moment'],function(a){return{init:function init(){function h(k,l){var m=/^\d{4}\-(0?[1-9]|1[012])\-(0?[1-9]|[12][0-9]|3[01])$/,n=m.exec(k),o=m.exec(l);return''==k&&''==l?'Debe llenar todos los campos':''==k||''==l?'Debe introducir la fecha de inicio y fin del per\xEDodo':null===n?'La fecha de inicio no sigue el patr\xF3n yyyy-mm-dd. Ejemplo: 2017-10-20':null===o?'La fecha de fin no sigue el patr\xF3n yyyy-mm-dd. Ejemplo: 2017-10-20':k==l?'La fecha de inicio y de fin deben ser diferentes':'success'}function i(k,l){var m=0;a('#'+k+' tbody tr').not(':first').each(function(){var n=a(this).find('td:eq('+l+')');null!=n.val()&&(m+=parseFloat(n.html().replace(',','.')))}),a('#'+k+' tfoot tr').find('td:eq('+l+')').html(m.toFixed(2).toString().replace('.',','))}function j(){var k=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0;a.ajax({type:'POST',url:'../managers/tracking_time_control/load_hours_report.php',data:{initial_hour:k,final_hour:l},success:function success(m){if(console.log(m),''==m)a('#div_hours').empty(),a('#div_hours').append('<h2>No existen registros de seguimientos en el dia de hoy</h2>');else{a('#div_hours').empty(),a('#div_hours').append('<table id="tableHours"  class="display" cellspacing="0" width="100%" ><thead><thead><tfoot id="hours_foot"></tfoot></table>');a('#tableHours').DataTable(m);a('#hours_foot').append(' <tr><td><strong>Total : </strong></td><td id="total_hour"></td><td></td></tr>'),i('tableHours',1),i('tableHours',2),a('#div_hours #show_details').css('cursor','pointer')}},dataType:'json',cache:'false',error:function error(){alert('Error al cargar horas trabajadas')}})}a(document).ready(function(){a('#table_hours').DataTable(),a('.period_date').datepicker({dateFormat:'yy-mm-dd'}),j(),a('#consult').click(function(){var k=a('#beginning_date').val(),l=a('#ending_date').val(),m=h(k,l);'success'==m?j(k,l):swal({title:'Advertencia',text:m,type:'warning',html:!0})})})}}});