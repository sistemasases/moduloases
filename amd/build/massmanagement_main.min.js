'use strict';define(['jquery','block_ases/bootstrap','block_ases/sweetalert'],function(a){return{init:function init(){function d(){for(var n,j=[],k=document.location.search.substring(1),l=k.split('&'),m=0;m<l.length;m++)n=l[m].split('='),j[n[0]]=n[1];return j}function e(){var h=d(document.location.search),j=new FormData;if(j.append('idinstancia',h.instanceid),void 0==a('#archivo')[0].files[0]){swal({title:'Archivo no registrado.',text:'Seleccione el archivo a subir',html:!0,type:'error',confirmButtonColor:'#d51b23'});var k=a('#selector').val();return void f(k)}j.append('file',a('#archivo')[0].files[0]);var l='';switch(a('#selector').val()){case'monitor_estud':l='mrm_monitor_estud.php';break;case'roles_usuario':l='mrm_roles.php';break;default:return 0;}a.ajax({url:'../managers/mass_management/'+l,data:j,type:'POST',dataType:'json',cache:!1,contentType:!1,processData:!1,beforeSend:function beforeSend(){a('#response').html('<img src=\'../icon/facebook.gif\' />')},success:function success(m){a('#response').empty(),a('#informacion').empty(),m.success?a('#informacion').append('<div class="alert alert-success"><h4 align="center">Informaci\xF3n</h4><strong>Exito!</strong> <br><p>'+m.success+'</p></div>'):m.warning?a('#informacion').append('<div class="alert alert-warning"><h4 align="center">Informaci\xF3n</h4><strong>Cargado con inconsitencias!</strong> <br>'+m.warning+'</div>'):m.error&&a('#informacion').append('<div class="alert alert-danger"><h4 align="center">Informaci\xF3n</h4><strong>Error!</strong> <br>'+m.error+'</div>'),a('#informacion').append(m.urlzip)},error:function error(){alert('error ajax'),a('#response').html('');var n=a('#selector').val();f(n)}})}function f(h){switch(a('#informacion').empty(),h){case'monitor_estud':a('#informacion').append('<div class="alert alert-info"><h4 align="center">Informaci\xF3n</h4><strong>Para tener en cuenta...</strong> <br><p>Columnas obligatorias:<ul> <li>username_monitor</li><li>username_estudiante</li> </ul> </p></div>');break;case'roles_usuario':a('#informacion').append('<div class="alert alert-info"><h4 align="center">Informaci\xF3n</h4><strong>Para tener en cuenta...</strong> <br><p>Columnas obligatorias:<ul> <li>username</li><li>rol(administrativo, reportes,profesional_ps, monitor_ps,  estudiante_t \xF3 practicante_psp)</li> </ul> </p><p>Columnas extras aceptadas: <ul> <li>jefe</li>  </ul> </p></div>');break;default:}}var g=a('#selector').val();f(g),a('#selector').on('change',function(){var h=a('#selector').val();f(h)}),a('#boton_subir').on('click',function(){a('#informacion').empty(),e()})}}});