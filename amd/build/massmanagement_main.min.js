'use strict';define(['jquery','block_ases/bootstrap','block_ases/datatables.net','block_ases/datatables.net-buttons','block_ases/buttons.flash','block_ases/jszip','block_ases/pdfmake','block_ases/buttons.html5','block_ases/buttons.print','block_ases/sweetalert','block_ases/select2'],function(a){return{init:function init(){function f(){for(var p,l=[],m=document.location.search.substring(1),n=m.split('&'),o=0;o<n.length;o++)p=n[o].split('='),l[p[0]]=p[1];return l}function g(){var k=f(document.location.search),l=new FormData;if(l.append('idinstancia',k.instanceid),void 0==a('#archivo')[0].files[0]){swal({title:'Archivo no registrado.',text:'Seleccione el archivo a subir',html:!0,type:'error',confirmButtonColor:'#d51b23'});var m=a('#selector').val();return void h(m)}l.append('file',a('#archivo')[0].files[0]);var n='';switch(a('#selector').val()){case'monitor_estud':n='mrm_monitor_estud.php';break;case'roles_usuario':n='mrm_roles.php';break;default:return 0;}a.ajax({url:'../managers/mass_management/'+n,data:l,type:'POST',dataType:'json',cache:!1,contentType:!1,processData:!1,beforeSend:function beforeSend(){a('#response').html('<img src=\'../icon/facebook.gif\' />')},success:function success(o){a('#response').empty(),a('#informacion').empty(),o.success?a('#informacion').append('<div class="alert alert-success"><h4 align="center">Informaci\xF3n</h4><strong>Exito!</strong> <br><p>'+o.success+'</p></div>'):o.warning?a('#informacion').append('<div class="alert alert-warning"><h4 align="center">Informaci\xF3n</h4><strong>Cargado con inconsitencias!</strong> <br>'+o.warning+'</div>'):o.error&&a('#informacion').append('<div class="alert alert-danger"><h4 align="center">Informaci\xF3n</h4><strong>Error!</strong> <br>'+o.error+'</div>'),a('#informacion').append(o.urlzip)},error:function error(){alert('error ajax'),a('#response').html('');var p=a('#selector').val();h(p)}})}function h(k){switch(a('#informacion').empty(),k){case'monitor_estud':a('#informacion').append('<div class="alert alert-info"><h4 align="center">Informaci\xF3n</h4><strong>Para tener en cuenta...</strong> <br><p>Columnas obligatorias:<ul> <li>username_monitor</li><li>username_estudiante</li> </ul> </p></div>');break;case'roles_usuario':a('#informacion').append('<div class="alert alert-info"><h4 align="center">Informaci\xF3n</h4><strong>Para tener en cuenta...</strong> <br><p>Columnas obligatorias:<ul> <li>username</li><li>rol(administrativo, reportes,profesional_ps, monitor_ps,  estudiante_t \xF3 practicante_psp)</li> </ul> </p><p>Columnas extras aceptadas: <ul> <li>jefe</li>  </ul> </p></div>');break;default:}}var j=a('#selector').val();h(j),a('#selector').on('change',function(){var k=a('#selector').val();h(k)}),a('#boton_subir').on('click',function(){a('#informacion').empty(),g()})}}});