'use strict';define(['jquery','block_ases/bootstrap','block_ases/sweetalert'],function(a){return{init:function init(){function d(){for(var m,h=[],j=document.location.search.substring(1),k=j.split('&'),l=0;l<k.length;l++)m=k[l].split('='),h[m[0]]=m[1];return h}function e(){var g=d(document.location.search),h=new FormData;if(h.append('idinstancia',g.instanceid),void 0==a('#archivo')[0].files[0])return swal({title:'Archivo no registrado.',text:'Seleccione el archivo a subir',html:!0,type:'error',confirmButtonColor:'#d51b23'}),void f();h.append('file',a('#archivo')[0].files[0]);var j=a('#selector').val()+'_processing.php';alert(j),a.ajax({url:'../managers/historic_management/'+j,data:h,type:'POST',dataType:'json',cache:!1,contentType:!1,processData:!1,beforeSend:function beforeSend(){a('#response').html('<img src=\'../icon/facebook.gif\' />')},success:function success(k){a('#response').empty(),a('#informacion').empty(),k.success?a('#informacion').append('<div class="alert alert-success"><h4 align="center">Informaci\xF3n</h4><strong>Exito!</strong> <br><p>'+k.success+'</p></div>'):k.warning?a('#informacion').append('<div class="alert alert-warning"><h4 align="center">Informaci\xF3n</h4><strong>Cargado con inconsitencias!</strong> <br>'+k.warning+'</div>'):k.error&&a('#informacion').append('<div class="alert alert-danger"><h4 align="center">Informaci\xF3n</h4><strong>Error!</strong> <br>'+k.error+'</div>'),a('#informacion').append(k.urlzip)},error:function error(){alert('error en el servidor'),a('#response').html(''),f()}})}function f(){var g=a('#selector').val();switch(a('#informacion').empty(),g){case'academic':a('#informacion').append('<div class="alert alert-info"><h4 align="center">Informaci\xF3n de carga Historico Academico</h4><br><strong>Para tener en cuenta...</strong> <br><p>Columnas obligatorias:<ul> <li>username_estudiante</li> </ul> </p><p>Columnas extras aceptadas: <ul> <li>nota</li>  </ul> </p></div>');break;case'icetex':a('#informacion').append('<div class="alert alert-info"><h4 align="center">Informaci\xF3n de carga Historico ICETEX</h4><br> <strong>Para tener en cuenta...</strong> <br><p>Columnas obligatorias:<ul><li>username_estudiante</li></ul> </p><p>Columnas extras aceptadas: <ul> <li>otro</li>  </ul> </p></div>');break;default:}}f(),a('#selector').on('change',function(){f()}),a('#boton_subir').on('click',function(){a('#informacion').empty(),e()})}}});