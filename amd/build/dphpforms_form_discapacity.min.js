'use strict';define(['jquery','block_ases/jszip','block_ases/jquery.dataTables','block_ases/dataTables.autoFill','block_ases/dataTables.buttons','block_ases/buttons.html5','block_ases/buttons.flash','block_ases/buttons.print','block_ases/bootstrap','block_ases/sweetalert','block_ases/jqueryui','block_ases/select2'],function(a){return{init:function init(){function n(D,E){var F=a('#input_json_saved').val();a.ajax({type:'POST',data:{func:'validate_json',json:D,json_prev:F,ases:E,instanceid:B(),courseid:C(),id_schema:1},url:'../managers/student_profile/others_tab_api.php',success:function success(G){swal({title:G.title,text:G.msg,type:G.status},function(){a('html, body').animate({scrollTop:650},'slow'),a('#form_ficha_inicial').animate({scrollTop:0},'slow')}),a('#input_json_saved').attr('value',D)},dataType:'json',cache:'false',error:function error(G){swal(G.title,G.msg,G.status)}})}function o(){a('#form_ficha_inicial').show(),q(),p('input'),p('select'),p('textarea');var D=a('#input_json_saved').val();D=JSON.parse(D),u(D)}function p(D){for(obj=document.getElementById('form_ficha_inicial'),i=0;ele=obj.getElementsByTagName(D)[i];i++)ele.disabled=!0}function q(){for(a('#cond_adquisicion option').each(function(){a(this).css('background','white'),a(this).prop('selected',!1)}),obj=document.getElementById('form_ficha_inicial'),i=0;ele=obj.getElementsByTagName('input')[i];i++)'input_json_saved'!=ele.id&&('checkbox'==ele.type&&(ele.checked=!1),'radio'==ele.type&&(ele.checked=!1),'text'==ele.type&&(ele.value=''),'range'==ele.type&&(ele.value=2),'number'==ele.type&&(ele.value=0));a('#div_institucion_apoyo').hide(),a('#div_actividades_otros_desc').hide(),a('#div_organizacion_asociacion').hide(),a('#div_otro_transporte').hide(),a('#div_otro_apoyo_principal').hide(),a('#div_porcentaje_inv').hide(),a('#div_otra_discapacidad').hide(),a('#div_descripcion_diagnostico').hide(),a('#div_otro_cond_adq').hide()}function r(D){var E={};for(i in E.title='\xC9xito',E.msg='El formulario fue validado con \xE9xito',E.status='success',D)switch(i){case'percepcion_discapacidad':var F=D[i];for(op in F)if('key_percepcion'==op&&void 0===F[op])return E.title='Percepci\xF3n de discapacidad',E.status='error',E.msg='El campo '+op+' de adquisici\xF3n es obligatorio',E;break;case'condicion_adquisicion':var G=D[i];for(op in G)if('otra_condicion'==op){if(''==G[op])return E.title='Condici\xF3n de adquisici\xF3n',E.status='error',E.msg='El campo '+op+' de adquisici\xF3n es obligatorio',E;if(z(G[op]))return E.title='Condici\xF3n de adquisici\xF3n',E.status='error',E.msg='El campo '+op+' de adquisici\xF3n no debe contener n\xFAmeros',E}break;case'diagnostico_discapacidad':var H=D[i];for(op in H)if('descripcion'==op&&''==H[op])return E.title='Diagn\xF3stico de discapacidad',E.status='error',E.msg='El campo '+op+' diagn\xF3stico es obligatorio',E;break;case'tipo_discapacidad':var I=D[i];for(op in I)if('otro_tipo'==op){if(''==I[op])return E.title='Tipo de discapacidad',E.status='error',E.msg='El campo '+op+' de discapacidad es obligatorio',E;if(z(I[op]))return E.title='Tipo de discapacidad',E.status='error',E.msg='El campo '+op+' de discapacidad no debe contener n\xFAmeros',E}break;case'certificado_invalidez':var J=D[i];for(op in J)if('porcentaje'==op){if(''==J[op])return E.title='Certificado de invalidez',E.status='error',E.msg='El campo '+op+' es obligatorio',E;if(0>J[op])return E.title='Certificado de invalidez',E.status='error',E.msg='El campo '+op+' no debe ser negativo',E;if(Number.isNaN(J[op]))return E.title='Certificado de invalidez',E.status='error',E.msg='El campo '+op+' debe ser num\xE9rico',E}break;case'dificultad_permanente_funciones':var K=D[i],L=void 0;for(item in K)for(op in L=K[item],L)if('dificultad'==op&&''==L[op])return E.title='Dificultades permanentes',E.status='error',E.msg='El campo '+op+' de la opci\xF3n \''+L.funcion+'\' es obligatorio',E;break;case'condicion_salud_organos':var M=D[i],N=void 0;for(item in M)for(op in N=M[item],N)if('condicion'==op&&''==N[op])return E.title='Condiciones de salud',E.status='error',E.msg='El campo '+op+' de la opci\xF3n \''+N.organo+'\' es obligatorio',E;break;case'necesidades_situaciones':var O=D[i],P=void 0;for(item in O)for(op in P=O[item],P)if('necesidad'==op&&''==P[op])return E.title='Necesidades situaciones',E.status='error',E.msg='El campo '+op+' de la opci\xF3n \''+P.situacion+'\' es obligatorio',E;break;case'factores_impacto':var Q=D[i],R=void 0;for(item in Q)for(op in R=Q[item],R)if('otro_factor'==op&&''==R[op])return E.title='Factores de impacto',E.status='error',E.msg='El campo '+op+' de la opci\xF3n \''+R.escenario+'\' es obligatorio',E;break;case'posibilidad_actividades':var S=D[i],T=void 0;for(item in S)for(op in T=S[item],T)if(('otra_actividad'==op||'posibilidad'==op||'tipo_apoyo'==op)&&''==T[op])return E.title='Posibilidades en actividades',E.status='error',E.msg='El campo '+op+' de la opci\xF3n \''+T.actividad+'\' es obligatorio',E;break;case'apoyo_principal_cotidiano':var U=D[i];if('{}'==JSON.stringify(U))return E.title='Apoyo principal',E.status='error',E.msg='El campo apoyo principal es obligatorio',E;for(op in U)if('otro_apoyo'==op&&''==U[op])return E.title='Apoyo principal',E.status='error',E.msg='El campo '+op+' de la opci\xF3n \''+U.apoyo_cotidiano+'\' es obligatorio',E;break;case'medio_transporte':var V=D[i];if('{}'==JSON.stringify(V))return E.title='Medio de transporte',E.status='error',E.msg='El campo medio de transporte es obligatorio',E;for(op in V)if('otro_transporte'==op&&''==V[op])return E.title='Medio de transporte',E.status='error',E.msg='El campo '+op+' de la opci\xF3n \''+V.transporte+'\' es obligatorio',E;break;case'participa_asociacion':var W=D[i];for(op in W)if('asociacion'==op&&''==W[op])return E.title='Participaci\xF3n en organizaci\xF3n/asociaci\xF3n',E.status='error',E.msg='El campo '+op+' es obligatorio',E;break;case'actividades_otros':var X=D[i];for(op in X)if('actividad'==op&&''==X[op])return E.title='Actividades con otros',E.status='error',E.msg='El campo '+op+' es obligatorio',E;break;case'apoyo_institucion':var Y=D[i];for(op in Y)if(('apoyo_institu'==op||'institucion'==op)&&''==Y[op])return E.title='Apoyo instituci\xF3n',E.status='error',E.msg='El campo '+op+' es obligatorio',E;}return E}function s(D){a('#'+D).find('input').each(function(){a(this).prop('disabled',!1)})}function t(){a('#form_ficha_inicial').find(':input').not('.input_fields_discapacity_tab').not('.range_input').each(function(){'check_documentos_soporte'!=a(this).attr('id')&&a(this).prop('disabled',!1)})}function u(D){var E,F,G,H,I,J,K,L,M;for(i in D)switch(i){case'percepcion_discapacidad':F=D[i].key_percepcion,L=D[i].descripcion,K='textarea_percepcion',''!=F&&(a('#'+F).prop('checked',!0),a('#'+K).val(L));break;case'condicion_adquisicion':if(F=D[i].key_condicion,H=D[i].condicion,I=D[i].key_otra_condicion,J=D[i].otra_condicion,Array.isArray(H))for(condicion in H)v(F,H[condicion],I,J);else v(F,H,I,J);a('#cond_adquisicion').find(':selected').each(function(){a(this).css('background','lightslategrey')});break;case'diagnostico_discapacidad':F=D[i].key_diagnostico,G=D[i].tiene_diagnostico,K=D[i].key_descripcion,L=D[i].descripcion,w(F,G,K,L);break;case'tipo_discapacidad':if(F=D[i].key_tipo,H=D[i].tipo_discapacidad,I=D[i].key_otro_tipo,J=D[i].otro_tipo,Array.isArray(H))for(condicion in H)v(F,H[condicion],I,J);else v(F,H,I,J);a('#cond_adquisicion').find(':selected').each(function(){a(this).css('background','lightslategrey')});break;case'certificado_invalidez':F=D[i].key_certificado,G=D[i].tiene_certificado,K=D[i].key_porcentaje,L=D[i].porcentaje,w(F,G,K,L);break;case'dificultad_permanente_funciones':E=D[i],y(E,'key_funcion','funcion','key_dificultad','dificultad');break;case'condicion_salud_organos':E=D[i],y(E,'key_organo','organo','key_condicion','condicion');break;case'necesidades_situaciones':E=D[i],y(E,'key_situacion','situacion','key_necesidad','necesidad');break;case'posibilidad_actividades':for(obj_json in E=D[i],E)'check_otra_posibilidad'==E[obj_json].key_actividad&&(a('#'+E[obj_json].key_otra_actividad).val(E[obj_json].otra_actividad),a('#'+E[obj_json].key_otra_actividad).parent().show()),a('#'+E[obj_json].key_actividad).prop('checked',!0),a('#'+E[obj_json].key_posibilidad).val(E[obj_json].posibilidad),a('#'+E[obj_json].key_apoyo).val(E[obj_json].tipo_apoyo),'No realiza'==E[obj_json].posibilidad?M=1:'Sin apoyo'==E[obj_json].posibilidad?M=2:'Con apoyo'==E[obj_json].posibilidad&&(M=3),a('#'+E[obj_json].key_posibilidad).siblings(':input[type=range]').val(M);break;case'factores_impacto':for(obj_json in E=D[i],E)('check_factor4'==E[obj_json].key_factor||'check_factor2_7'==E[obj_json].key_factor)&&a('#'+E[obj_json].key_otro_factor).val(E[obj_json].otro_factor),'check_factor2'==E[obj_json].key_factor&&a('#'+E[obj_json].key_factor).parent().next().show(),a('#'+E[obj_json].key_factor).prop('checked',!0);break;case'apoyo_principal_cotidiano':F=D[i].key_apoyo,G=D[i].apoyo_cotidiano,K=D[i].key_otro_apoyo,L=D[i].otro_apoyo,a('#'+F).prop('checked',!0),'input_radio_otro_oa'==F?(a('#'+K).val(L),a('#'+K).parent().show()):(a('#'+K).val(''),a('#'+K).parent().hide());break;case'medio_transporte':F=D[i].key_transoporte,G=D[i].transporte,K=D[i].key_otro_transporte,L=D[i].otro_transporte,a('#'+F).prop('checked',!0),'input_radio_otro_ot'==F?(a('#'+K).val(L),a('#'+K).parent().show()):(a('#'+K).val(''),a('#'+K).parent().hide());break;case'participa_asociacion':F=D[i].key_participa,G=D[i].participa,K=D[i].key_asociacion,L=D[i].asociacion,w(F,G,K,L);break;case'actividades_otros':F=D[i].key_realiza,G=D[i].realiza,K=D[i].key_actividad,L=D[i].actividad,w(F,G,K,L);break;case'apoyo_institucion':F=D[i].key_apoya,G=D[i].apoyo,K=D[i].key_apoyo_institu,L=D[i].apoyo_institu,1==G?(a('#'+F).prop('checked',!0),a('#'+K).val(L),K=D[i].key_institucion,L=D[i].institucion,a('#'+K).val(L),a('#'+K).parent().parent().show()):(a('#'+F).prop('checked',!1),a('#'+K).val(''),a('#'+K).parent().parent().hide());}}function v(D,E,F,G){var H;a('#'+D+' option').each(function(){a(this).text()==E&&(H=a(this).attr('value'),a(this).prop('selected',!0),'0'==H&&(a('#'+F).val(G),a('#'+F).parent().show()))})}function w(D,E,F,G){1==E?(a('#'+D).prop('checked',!0),a('#'+F).val(G),a('#'+F).parent().show()):(a('#'+D).prop('checked',!1),a('#'+F).val(''),a('#'+F).parent().hide())}function y(D,E,F,G,H){for(obj_json in D)a('#'+D[obj_json][E]).prop('checked',!0),a('#'+D[obj_json][G]).val(D[obj_json][H])}function z(D){for(i=0;i<D.length;i++)if(-1!='0123456789'.indexOf(D.charAt(i),0))return 1;return 0}function B(){var D=location.search.split('&');for(x in D)if(0<=D[x].indexOf('instanceid')){var E=D[x].split('=');return E[1]}return 0}function C(){var D=location.search.split('&');for(x in D)if(0<=D[x].indexOf('courseid')){var E=D[x].split('=');return E[1]}return 0}''!=a('#input_json_saved').val()&&a('#cancel_ficha_discapacity').parent().show(),a('#btn_ficha_inicial_discapacity').on('click',function(){}),a('#div_factor_impacto input').on('change',function(){a('#check_factor2').is(':checked')?(a('#div_factor_contexto').show(),a('#check_factor2_7').is(':checked')?(a('#input_factor2_7').prop('disabled',!1),a('#input_factor2_7').prop('required',!0)):(a('#input_factor2_7').prop('value',''),a('#input_factor2_7').prop('disabled',!0),a('#input_factor2_7').prop('required',!1))):a('#div_factor_contexto').hide(),a('#check_factor4').is(':checked')?(a('#input_factor4').prop('disabled',!1),a('#input_factor4').prop('required',!0)):(a('#input_factor4').prop('value',''),a('#input_factor4').prop('disabled',!0),a('#input_factor4').prop('required',!1))}),a('#div_necesidades input[type=checkbox]').on('change',function(){a(this).is(':checked')?(a(this).parent().find(':input[type=text]').prop('disabled',!1),a(this).parent().find(':input[type=text]').prop('required',!0)):(a(this).parent().find(':input[type=text]').prop('value',''),a(this).parent().find(':input[type=text]').prop('disabled',!0),a(this).parent().find(':input[type=text]').prop('required',!1))}),a('#div_posibilidades_condiciones input[type=range]').on('change',function(){1==a(this).val()&&a(this).parent().find(':input[type=text]').prop('value','No realiza'),2==a(this).val()&&a(this).parent().find(':input[type=text]').prop('value','Sin apoyo'),3==a(this).val()&&a(this).parent().find(':input[type=text]').prop('value','Con apoyo')}),a('#check_otra_posibilidad').on('click',function(){a(this).is(':checked')?(a('#div_otra_actividad').show(),a('#input_otro1').prop('required',!0),a('#input_otro1').prop('disabled',!1),a('#input_tipo_otro').prop('required',!0),a('#input_tipo_otro').prop('disabled',!1),a('#clasificacion_otro').prop('disabled',!1),a('#clasificacion_otro').prop('required',!0)):(a('#div_otra_actividad').hide(),a('#input_otro1').prop('value',''),a('#input_otro1').prop('disabled',!0),a('#input_posib_otro').prop('value',''),a('#input_tipo_otro').prop('value',''),a('#input_otro1').prop('required',!1),a('#input_tipo_otro').prop('required',!1),a('#input_tipo_otro').prop('disabled',!0),a('#clasificacion_otro').prop('disabled',!0),a('#clasificacion_otro').prop('required',!1),a('#clasificacion_otro').prop('value',null))}),a('#div_cond_salud input[type=checkbox]').on('change',function(){a(this).is(':checked')?(a(this).parent().find(':input[type=text]').prop('disabled',!1),a(this).parent().find(':input[type=text]').prop('required',!0)):(a(this).parent().find(':input[type=text]').prop('value',''),a(this).parent().find(':input[type=text]').prop('disabled',!0),a(this).parent().find(':input[type=text]').prop('required',!1))}),a('#div_dificultad_permanente input[type=checkbox]').on('change',function(){a(this).is(':checked')?(a(this).parent().find(':input[type=text]').prop('disabled',!1),a(this).parent().find(':input[type=text]').prop('required',!0)):(a(this).parent().find(':input[type=text]').prop('value',''),a(this).parent().find(':input[type=text]').prop('disabled',!0),a(this).parent().find(':input[type=text]').prop('required',!1))}),a('#div_posibilidades_condiciones input[type=checkbox]').on('change',function(){a(this).is(':checked')?(a(this).parent().find(':input[type=range]').prop('disabled',!1),a(this).parent().find(':input[type=range]').prop('required',!0),a(this).parent().find(':input[type=range]').next().val('Sin apoyo'),a(this).parent().find(':input[name=input_apoyo]').prop('disabled',!1),a(this).parent().find(':input[name=input_apoyo]').prop('required',!0),a(this).parent().find(':input[name=input_apoyo]').val('NO REGISTRA.')):(a(this).parent().find(':input[type=range]').prop('value',null),a(this).parent().find(':input[type=range]').prop('disabled',!0),a(this).parent().find(':input[type=range]').prop('required',!1),a(this).parent().find(':input[type=range]').next().val(''),a(this).parent().find(':input[name=input_apoyo]').prop('disabled',!0),a(this).parent().find(':input[name=input_apoyo]').prop('required',!1),a(this).parent().find(':input[type=text]').prop('value',''))}),a('#edit_discapacity_initial').on('click',function(){a('#btn_ficha_inicial_discapacity').empty(),a('#btn_ficha_inicial_discapacity').append('Ficha inicial <span class="caret"></span><strong> (Edici\xF3n) </strong>'),a('#form_ficha_inicial').show(),t();var D=a('#input_json_saved').val();''!=D&&(D=JSON.parse(D)),u(D),a('html, body').animate({scrollTop:650},'slow'),a('#form_ficha_inicial').animate({scrollTop:0},'slow'),a('#save_ficha_discapacity').parent().show(),''!==a('#input_json_saved').val()&&a('#cancel_ficha_discapacity').parent().show();var E=a('#textarea_diagnostico').val();document.getElementById('descrip_diagnostico').innerHTML=E}),a('#view_discapacity_initial').on('click',function(){a('#btn_ficha_inicial_discapacity').empty(),a('#btn_ficha_inicial_discapacity').append('Ficha inicial <span class="caret"></span> <strong> (Visualizaci\xF3n) </strong>'),o(),a('html, body').animate({scrollTop:650},'slow'),a('#form_ficha_inicial').animate({scrollTop:0},'slow'),a('#save_ficha_discapacity').parent().hide(),a('#cancel_ficha_discapacity').parent().hide();var D=a('#textarea_diagnostico').val();document.getElementById('descrip_diagnostico').innerHTML=D}),a('#cond_adquisicion').on('click',function(){var D=a(this).val();D.includes('0')?(a('#div_otro_cond_adq').show(),a('#otro_cond_adquisicion').prop('required',!0),s('div_otro_cond_adq')):(a('#div_otro_cond_adq').hide(),a('#otro_cond_adquisicion').prop('required',!1),a('#otro_cond_adquisicion').prop('value',''))}),a('#opciones_apoyo input[name=apoyo_principal]').on('change',function(){a('#input_radio_otro_oa').is(':checked')?(a('#div_otro_apoyo_principal').show(),a('#input_otro_apoyo').prop('required',!0),s('div_otro_apoyo_principal')):(a('#div_otro_apoyo_principal').hide(),a('#input_otro_apoyo').prop('required',!1),a('#input_otro_apoyo').prop('value',''))}),a('#opciones_transporte input[name=desplazamiento]').on('change',function(){a('#input_radio_otro_ot').is(':checked')?(a('#div_otro_transporte').show(),a('#input_otro_transporte').prop('required',!0),s('div_otro_transporte')):(a('#div_otro_transporte').hide(),a('#input_otro_transporte').prop('required',!1),a('#input_otro_transporte').prop('value',''))}),a('#tipo_discapacidad').on('click',function(){var D=a(this).val();D.includes('0')?(a('#div_otra_discapacidad').show(),a('#otra_discapacidad').prop('required',!0),s('div_otra_discapacidad')):(a('#div_otra_discapacidad').hide(),a('#otra_discapacidad').prop('required',!1),a('#otra_discapacidad').prop('value',''))}),a('#check_diagnostico').on('change',function(){a('#check_diagnostico').is(':checked')?(a('#div_descripcion_diagnostico').show(),a('#textarea_diagnostico').prop('required',!0)):(a('#div_descripcion_diagnostico').hide(),a('#textarea_diagnostico').prop('value',''),a('#textarea_diagnostico').prop('required',!1))}),a('#textarea_diagnostico').on('change',function(){var D=a('#textarea_diagnostico').val();document.getElementById('descrip_diagnostico').innerHTML=D}),a('#check_certificado_invalidez').on('change',function(){a('#check_certificado_invalidez').is(':checked')?(a('#div_porcentaje_inv').show(),a('#input_porcentaje_inv').prop('required',!0),s('div_porcentaje_inv')):(a('#div_porcentaje_inv').hide(),a('#input_porcentaje_inv').prop('required',!1),a('#input_porcentaje_inv').prop('value',''))}),a('#check_org').on('change',function(){a('#check_org').is(':checked')?(a('#div_organizacion_asociacion').show(),a('#input_org').prop('required',!0),s('div_organizacion_asociacion')):(a('#div_organizacion_asociacion').hide(),a('#input_org').prop('required',!1),a('#input_org').prop('value',''))}),a('#check_actividades_otros').on('change',function(){a('#check_actividades_otros').is(':checked')?(a('#div_actividades_otros_desc').show(),a('#input_actividades_otros').prop('required',!0),s('div_actividades_otros_desc')):(a('#div_actividades_otros_desc').hide(),a('#input_actividades_otros').prop('required',!1),a('#input_actividades_otros').prop('value',''))}),a('#check_apoyo_institu').on('change',function(){a('#check_apoyo_institu').is(':checked')?(a('#div_institucion_apoyo').show(),a('#input_institucion').prop('required',!0),a('#input_apoyo').prop('required',!0),s('div_institucion_apoyo')):(a('#div_institucion_apoyo').hide(),a('#input_institucion').prop('required',!1),a('#input_institucion').prop('value',''),a('#input_apoyo').prop('required',!1),a('#input_apoyo').prop('value',''))}),a('#cancel_ficha_discapacity').on('click',function(){swal({title:'Advertencia',text:'\xBFEst\xE1 seguro(a) que desea revertir los cambios?',type:'warning',showCancelButton:!0,confirmButtonText:'Si',cancelButtonText:'No',closeOnConfirm:!0},function(D){D&&(o(),a('html, body').animate({scrollTop:650},'slow'),a('#form_ficha_inicial').animate({scrollTop:0},'slow'),a('#btn_ficha_inicial_discapacity').empty(),a('#btn_ficha_inicial_discapacity').append('Ficha inicial <span class="caret"></span> <strong> (Visualizaci\xF3n) </strong>'),a('#save_ficha_discapacity').parent().hide(),a('#cancel_ficha_discapacity').parent().hide())})}),a('#save_ficha_discapacity').on('click',function(){var ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,_a,ab,cb,db='',eb,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,V,W,X,Y,Y,Z,_,aa,fb=[],gb=[],hb=[],ib=[],jb=[],ba;db=a('#div_percepcion_estudiante').find(':input[type=radio]:checked').attr('id'),eb=a('#textarea_percepcion').val(),cb={key_percepcion:db,descripcion:eb},ea=a('#cond_adquisicion').val(),Sa=a('#cond_adquisicion').attr('id');var kb=[];a('#cond_adquisicion').find(':selected').each(function(){a(this).css('background','lightslategrey'),kb.push(a(this).text())}),a('#cond_adquisicion option:not(:selected)').each(function(){a(this).css('background','white')}),Ta={key_condicion:Sa,condicion:kb},ea.includes('0')&&(ra=a('#otro_cond_adquisicion').attr('id'),ja=a('#otro_cond_adquisicion').val(),Ta.key_otra_condicion=ra,Ta.otra_condicion=ja),la=a('#tipo_discapacidad').val(),Fa=a('#tipo_discapacidad').attr('id');var lb=[];a('#tipo_discapacidad').find(':selected').each(function(){a(this).css('background','lightslategrey'),lb.push(a(this).text())}),a('#tipo_discapacidad option:not(:selected)').each(function(){a(this).css('background','white')}),Ha={key_tipo:Fa,tipo_discapacidad:lb},la.includes('0')&&(ma=a('#otra_discapacidad').val(),Ga=a('#otra_discapacidad').attr('id'),Ha.key_otro_tipo=Ga,Ha.otro_tipo=ma),Ca=a('#check_diagnostico').is(':checked'),Da=a('#check_diagnostico').attr('id'),Ea={key_diagnostico:Da},Ca?(ka=a('#textarea_diagnostico').val(),Ba=a('#textarea_diagnostico').attr('id'),Ea.tiene_diagnostico=1,Ea.key_descripcion=Ba,Ea.descripcion=ka):Ea.tiene_diagnostico=0,Ia=a('#check_certificado_invalidez').is(':checked'),Ja=a('#check_certificado_invalidez').attr('id'),Ka={key_certificado:Ja},Ia?(La=a('#input_porcentaje_inv').attr('id'),wa=parseInt(a('#input_porcentaje_inv').val()),Ka.tiene_certificado=1,Ka.key_porcentaje=La,Ka.porcentaje=wa):Ka.tiene_certificado=0,a('#div_dificultad_permanente').find(':input[type=checkbox]').each(function(){a(this).is(':checked')&&(D=a(this).attr('id'),F=a(this).attr('title'),G=a(this).parent().find(':input[type=text]').val(),E=a(this).parent().find(':input[type=text]').attr('id'),Va={key_funcion:D,funcion:F,key_dificultad:E,dificultad:G},fb.push(Va))}),a('#div_cond_salud').find(':input[type=checkbox]').each(function(){a(this).is(':checked')&&(H=a(this).attr('id'),J=a(this).attr('title'),K=a(this).parent().find(':input[type=text]').val(),I=a(this).parent().find(':input[type=text]').attr('id'),Wa={key_organo:H,organo:J,key_condicion:I,condicion:K},gb.push(Wa))}),a('#div_necesidades').find(':input[type=checkbox]').each(function(){a(this).is(':checked')&&(M=a(this).attr('id'),situacion_name=a(this).attr('title'),necesidad_name=a(this).parent().find(':input[type=text]').val(),L=a(this).parent().find(':input[type=text]').attr('id'),Xa={key_situacion:M,situacion:situacion_name,key_necesidad:L,necesidad:necesidad_name},hb.push(Xa))}),a('#div_factor_impacto').find(':input[type=checkbox]').each(function(){a(this).is(':checked')&&(N=a(this).attr('id'),O=a(this).attr('title'),Ya={key_factor:N,escenario:O},('Otra \xBFCu\xE1l?'==O||'Otros, \xBFcu\xE1les?'==O)&&(Q=a(this).parent().find(':input[type=text]').val(),P=a(this).parent().find('input[type=text]').attr('id'),Ya.key_otro_factor=P,Ya.otro_factor=Q),ib.push(Ya))}),a('#div_posibilidades_condiciones').find(':input[type=checkbox]').each(function(){a(this).is(':checked')&&('check_otra_posibilidad'==a(this).attr('id')?(V=a(this).attr('id'),W=a(this).attr('title'),X=a('#input_posib_otro').val(),key_pos_pa=a('#input_posib_otro').attr('id'),Y=a('#input_tipo_otro').attr('id'),Z=a('#input_tipo_otro').val(),_=a('#input_otro1').attr('id'),aa=a('#input_otro1').val()):(V=a(this).attr('id'),W=a(this).attr('title'),X=a(this).parent().find(':input[type=text]').not('.input_apoyo').val(),key_pos_pa=a(this).parent().find(':input[type=text]').not('.input_apoyo').attr('id'),Y=a(this).parent().find(':input[name=input_apoyo]').attr('id'),Z=a(this).parent().find(':input[name=input_apoyo]').val()),Za={key_actividad:V,actividad:W,key_posibilidad:key_pos_pa,posibilidad:X,key_apoyo:Y,tipo_apoyo:Z},'check_otra_posibilidad'==a(this).attr('id')&&(Za.key_otra_actividad=_,Za.otra_actividad=aa),jb.push(Za))}),fa=a('#opciones_apoyo').find(':input[type=radio]:checked').val(),ha=a('#opciones_apoyo').find(':input[type=radio]:checked').attr('id'),$a={key_apoyo:ha,apoyo_cotidiano:fa},'Otro'==fa&&(ia=a('#input_otro_apoyo').attr('id'),ga=a('#input_otro_apoyo').val(),$a.key_otro_apoyo=ia,$a.otro_apoyo=ga),na=a('#opciones_transporte').find(':input[type=radio]:checked').val(),pa=a('#opciones_transporte').find(':input[type=radio]:checked').attr('id'),_a={key_transoporte:pa,transporte:na},'Otro'==na&&(qa=a('#input_otro_transporte').attr('id'),oa=a('#input_otro_transporte').val(),_a.key_otro_transporte=qa,_a.otro_transporte=oa),sa=a('#check_org').is(':checked'),ta=a('#check_org').attr('id'),ab={key_participa:ta},sa?(ua=a('#input_org').val(),va=a('#input_org').attr('id'),ab.participa=1,ab.key_asociacion=va,ab.asociacion=ua):ab.participa=0,Aa=a('#check_actividades_otros').is(':checked'),za=a('#check_actividades_otros').attr('id'),json_actividades_otros={key_realiza:za},Aa?(xa=a('#input_actividades_otros').val(),ya=a('#input_actividades_otros').attr('id'),json_actividades_otros.realiza=1,json_actividades_otros.key_actividad=ya,json_actividades_otros.actividad=xa):json_actividades_otros.realiza=0,Ma=a('#check_apoyo_institu').is(':checked'),Na=a('#check_apoyo_institu').attr('id'),Ua={key_apoya:Na},Ma?(Oa=a('#input_apoyo').val(),Pa=a('#input_apoyo').attr('id'),Ua.apoyo=1,Ua.key_apoyo_institu=Pa,Ua.apoyo_institu=Oa,Qa=a('#input_institucion').val(),Ra=a('#input_institucion').attr('id'),Ua.key_institucion=Ra,Ua.institucion=Qa):Ua.apoyo=0,ba={percepcion_discapacidad:cb,condicion_adquisicion:Ta,diagnostico_discapacidad:Ea,tipo_discapacidad:Ha,certificado_invalidez:Ka,dificultad_permanente_funciones:fb,condicion_salud_organos:gb,necesidades_situaciones:hb,posibilidad_actividades:jb,factores_impacto:ib,apoyo_principal_cotidiano:$a,medio_transporte:_a,participa_asociacion:ab,actividades_otros:json_actividades_otros,apoyo_institucion:Ua};var ca=r(ba);if('error'==ca.status)swal(ca.title,ca.msg,ca.status);else{var da=ba;da=JSON.stringify(da);var mb=a('#id_ases').val();n(da,mb)}})}}});