define(["jquery","block_ases/jszip","block_ases/jquery.dataTables","block_ases/dataTables.autoFill","block_ases/dataTables.buttons","block_ases/buttons.html5","block_ases/buttons.flash","block_ases/buttons.print","block_ases/bootstrap","block_ases/sweetalert","block_ases/jqueryui","block_ases/select2"],function(o,t,e,a,n,c,r,p,d,s,_,u){return{init:function(){function t(){o("#form_ficha_inicial").show(),function(){for(o("#cond_adquisicion option").each(function(){o(this).css("background","white"),o(this).prop("selected",!1)}),obj=document.getElementById("form_ficha_inicial"),i=0;ele=obj.getElementsByTagName("input")[i];i++)"input_json_saved"!=ele.id&&("checkbox"==ele.type&&(ele.checked=!1),"radio"==ele.type&&(ele.checked=!1),"text"==ele.type&&(ele.value=""),"range"==ele.type&&(ele.value=2),"number"==ele.type&&(ele.value=0));o("#div_institucion_apoyo").hide(),o("#div_actividades_otros_desc").hide(),o("#div_organizacion_asociacion").hide(),o("#div_otro_transporte").hide(),o("#div_otro_apoyo_principal").hide(),o("#div_porcentaje_inv").hide(),o("#div_otra_discapacidad").hide(),o("#div_descripcion_diagnostico").hide(),o("#div_otro_cond_adq").hide()}(),e("input"),e("select"),e("textarea");let t=o("#input_json_saved").val();n(t=JSON.parse(t))}function e(o){for(obj=document.getElementById("form_ficha_inicial"),i=0;ele=obj.getElementsByTagName(o)[i];i++)ele.disabled=!0}function a(i){o("#"+i).find("input").each(function(){o(this).prop("disabled",!1)})}function n(t){let e,a,n,d,s,_,u,l,h;for(i in t)switch(i){case"percepcion_discapacidad":a=t[i].key_percepcion,l=t[i].descripcion,u="textarea_percepcion",""!=a&&(o("#"+a).prop("checked",!0),o("#"+u).val(l));break;case"condicion_adquisicion":if(a=t[i].key_condicion,d=t[i].condicion,s=t[i].key_otra_condicion,_=t[i].otra_condicion,Array.isArray(d))for(condicion in d)c(a,d[condicion],s,_);else c(a,d,s,_);o("#cond_adquisicion").find(":selected").each(function(){o(this).css("background","lightslategrey")});break;case"diagnostico_discapacidad":r(a=t[i].key_diagnostico,n=t[i].tiene_diagnostico,u=t[i].key_descripcion,l=t[i].descripcion);break;case"tipo_discapacidad":if(a=t[i].key_tipo,d=t[i].tipo_discapacidad,s=t[i].key_otro_tipo,_=t[i].otro_tipo,Array.isArray(d))for(condicion in d)c(a,d[condicion],s,_);else c(a,d,s,_);o("#cond_adquisicion").find(":selected").each(function(){o(this).css("background","lightslategrey")});break;case"certificado_invalidez":r(a=t[i].key_certificado,n=t[i].tiene_certificado,u=t[i].key_porcentaje,l=t[i].porcentaje);break;case"dificultad_permanente_funciones":p(e=t[i],"key_funcion","funcion","key_dificultad","dificultad");break;case"condicion_salud_organos":p(e=t[i],"key_organo","organo","key_condicion","condicion");break;case"necesidades_situaciones":p(e=t[i],"key_situacion","situacion","key_necesidad","necesidad");break;case"posibilidad_actividades":for(obj_json in e=t[i])"check_otra_posibilidad"==e[obj_json].key_actividad&&(o("#"+e[obj_json].key_otra_actividad).val(e[obj_json].otra_actividad),o("#"+e[obj_json].key_otra_actividad).parent().show()),o("#"+e[obj_json].key_actividad).prop("checked",!0),o("#"+e[obj_json].key_posibilidad).val(e[obj_json].posibilidad),o("#"+e[obj_json].key_apoyo).val(e[obj_json].tipo_apoyo),"No realiza"==e[obj_json].posibilidad?h=1:"Sin apoyo"==e[obj_json].posibilidad?h=2:"Con apoyo"==e[obj_json].posibilidad&&(h=3),o("#"+e[obj_json].key_posibilidad).siblings(":input[type=range]").val(h);break;case"factores_impacto":for(obj_json in e=t[i])"check_factor4"!=e[obj_json].key_factor&&"check_factor2_7"!=e[obj_json].key_factor||o("#"+e[obj_json].key_otro_factor).val(e[obj_json].otro_factor),"check_factor2"==e[obj_json].key_factor&&o("#"+e[obj_json].key_factor).parent().next().show(),o("#"+e[obj_json].key_factor).prop("checked",!0);break;case"apoyo_principal_cotidiano":a=t[i].key_apoyo,n=t[i].apoyo_cotidiano,u=t[i].key_otro_apoyo,l=t[i].otro_apoyo,o("#"+a).prop("checked",!0),"input_radio_otro_oa"==a?(o("#"+u).val(l),o("#"+u).parent().show()):(o("#"+u).val(""),o("#"+u).parent().hide());break;case"medio_transporte":a=t[i].key_transoporte,n=t[i].transporte,u=t[i].key_otro_transporte,l=t[i].otro_transporte,o("#"+a).prop("checked",!0),"input_radio_otro_ot"==a?(o("#"+u).val(l),o("#"+u).parent().show()):(o("#"+u).val(""),o("#"+u).parent().hide());break;case"participa_asociacion":r(a=t[i].key_participa,n=t[i].participa,u=t[i].key_asociacion,l=t[i].asociacion);break;case"actividades_otros":r(a=t[i].key_realiza,n=t[i].realiza,u=t[i].key_actividad,l=t[i].actividad);break;case"apoyo_institucion":a=t[i].key_apoya,n=t[i].apoyo,u=t[i].key_apoyo_institu,l=t[i].apoyo_institu,1==n?(o("#"+a).prop("checked",!0),o("#"+u).val(l),u=t[i].key_institucion,l=t[i].institucion,o("#"+u).val(l),o("#"+u).parent().parent().show()):(o("#"+a).prop("checked",!1),o("#"+u).val(""),o("#"+u).parent().parent().hide())}}function c(i,t,e,a){let n;o("#"+i+" option").each(function(){o(this).text()==t&&(n=o(this).attr("value"),o(this).prop("selected",!0),"0"==n&&(o("#"+e).val(a),o("#"+e).parent().show()))})}function r(i,t,e,a){1==t?(o("#"+i).prop("checked",!0),o("#"+e).val(a),o("#"+e).parent().show()):(o("#"+i).prop("checked",!1),o("#"+e).val(""),o("#"+e).parent().hide())}function p(i,t,e,a,n){for(obj_json in i)o("#"+i[obj_json][t]).prop("checked",!0),o("#"+i[obj_json][a]).val(i[obj_json][n])}function d(o){for(i=0;i<o.length;i++)if(-1!="0123456789".indexOf(o.charAt(i),0))return 1;return 0}function s(){var i=location.search.split("&");for(x in i){if(i[x].indexOf("instanceid")>=0)return i[x].split("=")[1]}return 0}function _(){var i=location.search.split("&");for(x in i){if(i[x].indexOf("courseid")>=0)return i[x].split("=")[1]}return 0}""!=o("#input_json_saved").val()&&o("#cancel_ficha_discapacity").parent().show(),o("#btn_ficha_inicial_discapacity").on("click",function(){}),o("#div_factor_impacto input").on("change",function(){o("#check_factor2").is(":checked")?(o("#div_factor_contexto").show(),o("#check_factor2_7").is(":checked")?(o("#input_factor2_7").prop("disabled",!1),o("#input_factor2_7").prop("required",!0)):(o("#input_factor2_7").prop("value",""),o("#input_factor2_7").prop("disabled",!0),o("#input_factor2_7").prop("required",!1))):o("#div_factor_contexto").hide(),o("#check_factor4").is(":checked")?(o("#input_factor4").prop("disabled",!1),o("#input_factor4").prop("required",!0)):(o("#input_factor4").prop("value",""),o("#input_factor4").prop("disabled",!0),o("#input_factor4").prop("required",!1))}),o("#div_necesidades input[type=checkbox]").on("change",function(){o(this).is(":checked")?(o(this).parent().find(":input[type=text]").prop("disabled",!1),o(this).parent().find(":input[type=text]").prop("required",!0)):(o(this).parent().find(":input[type=text]").prop("value",""),o(this).parent().find(":input[type=text]").prop("disabled",!0),o(this).parent().find(":input[type=text]").prop("required",!1))}),o("#div_posibilidades_condiciones input[type=range]").on("change",function(){1==o(this).val()&&o(this).parent().find(":input[type=text]").prop("value","No realiza"),2==o(this).val()&&o(this).parent().find(":input[type=text]").prop("value","Sin apoyo"),3==o(this).val()&&o(this).parent().find(":input[type=text]").prop("value","Con apoyo")}),o("#check_otra_posibilidad").on("click",function(){o(this).is(":checked")?(o("#div_otra_actividad").show(),o("#input_otro1").prop("required",!0),o("#input_otro1").prop("disabled",!1),o("#input_tipo_otro").prop("required",!0),o("#input_tipo_otro").prop("disabled",!1),o("#clasificacion_otro").prop("disabled",!1),o("#clasificacion_otro").prop("required",!0)):(o("#div_otra_actividad").hide(),o("#input_otro1").prop("value",""),o("#input_otro1").prop("disabled",!0),o("#input_posib_otro").prop("value",""),o("#input_tipo_otro").prop("value",""),o("#input_otro1").prop("required",!1),o("#input_tipo_otro").prop("required",!1),o("#input_tipo_otro").prop("disabled",!0),o("#clasificacion_otro").prop("disabled",!0),o("#clasificacion_otro").prop("required",!1),o("#clasificacion_otro").prop("value",null))}),o("#div_cond_salud input[type=checkbox]").on("change",function(){o(this).is(":checked")?(o(this).parent().find(":input[type=text]").prop("disabled",!1),o(this).parent().find(":input[type=text]").prop("required",!0)):(o(this).parent().find(":input[type=text]").prop("value",""),o(this).parent().find(":input[type=text]").prop("disabled",!0),o(this).parent().find(":input[type=text]").prop("required",!1))}),o("#div_dificultad_permanente input[type=checkbox]").on("change",function(){o(this).is(":checked")?(o(this).parent().find(":input[type=text]").prop("disabled",!1),o(this).parent().find(":input[type=text]").prop("required",!0)):(o(this).parent().find(":input[type=text]").prop("value",""),o(this).parent().find(":input[type=text]").prop("disabled",!0),o(this).parent().find(":input[type=text]").prop("required",!1))}),o("#div_posibilidades_condiciones input[type=checkbox]").on("change",function(){o(this).is(":checked")?(o(this).parent().find(":input[type=range]").prop("disabled",!1),o(this).parent().find(":input[type=range]").prop("required",!0),o(this).parent().find(":input[type=range]").next().val("Sin apoyo"),o(this).parent().find(":input[name=input_apoyo]").prop("disabled",!1),o(this).parent().find(":input[name=input_apoyo]").prop("required",!0),o(this).parent().find(":input[name=input_apoyo]").val("NO REGISTRA.")):(o(this).parent().find(":input[type=range]").prop("value",null),o(this).parent().find(":input[type=range]").prop("disabled",!0),o(this).parent().find(":input[type=range]").prop("required",!1),o(this).parent().find(":input[type=range]").next().val(""),o(this).parent().find(":input[name=input_apoyo]").prop("disabled",!0),o(this).parent().find(":input[name=input_apoyo]").prop("required",!1),o(this).parent().find(":input[type=text]").prop("value",""))}),o("#edit_discapacity_initial").on("click",function(){o("#btn_ficha_inicial_discapacity").empty(),o("#btn_ficha_inicial_discapacity").append('Ficha inicial <span class="caret"></span><strong> (Edición) </strong>'),o("#form_ficha_inicial").show(),o("#form_ficha_inicial").find(":input").not(".input_fields_discapacity_tab").not(".range_input").each(function(){"check_documentos_soporte"!=o(this).attr("id")&&o(this).prop("disabled",!1)});let i=o("#input_json_saved").val();""!=i&&(i=JSON.parse(i)),n(i),o("html, body").animate({scrollTop:650},"slow"),o("#form_ficha_inicial").animate({scrollTop:0},"slow"),o("#save_ficha_discapacity").parent().show(),""!==o("#input_json_saved").val()&&o("#cancel_ficha_discapacity").parent().show();let t=o("#textarea_diagnostico").val();document.getElementById("descrip_diagnostico").innerHTML=t}),o("#view_discapacity_initial").on("click",function(){o("#btn_ficha_inicial_discapacity").empty(),o("#btn_ficha_inicial_discapacity").append('Ficha inicial <span class="caret"></span> <strong> (Visualización) </strong>'),t(),o("html, body").animate({scrollTop:650},"slow"),o("#form_ficha_inicial").animate({scrollTop:0},"slow"),o("#save_ficha_discapacity").parent().hide(),o("#cancel_ficha_discapacity").parent().hide();let i=o("#textarea_diagnostico").val();document.getElementById("descrip_diagnostico").innerHTML=i}),o("#cond_adquisicion").on("click",function(){o(this).val().includes("0")?(o("#div_otro_cond_adq").show(),o("#otro_cond_adquisicion").prop("required",!0),a("div_otro_cond_adq")):(o("#div_otro_cond_adq").hide(),o("#otro_cond_adquisicion").prop("required",!1),o("#otro_cond_adquisicion").prop("value",""))}),o("#opciones_apoyo input[name=apoyo_principal]").on("change",function(){o("#input_radio_otro_oa").is(":checked")?(o("#div_otro_apoyo_principal").show(),o("#input_otro_apoyo").prop("required",!0),a("div_otro_apoyo_principal")):(o("#div_otro_apoyo_principal").hide(),o("#input_otro_apoyo").prop("required",!1),o("#input_otro_apoyo").prop("value",""))}),o("#opciones_transporte input[name=desplazamiento]").on("change",function(){o("#input_radio_otro_ot").is(":checked")?(o("#div_otro_transporte").show(),o("#input_otro_transporte").prop("required",!0),a("div_otro_transporte")):(o("#div_otro_transporte").hide(),o("#input_otro_transporte").prop("required",!1),o("#input_otro_transporte").prop("value",""))}),o("#tipo_discapacidad").on("click",function(){o(this).val().includes("0")?(o("#div_otra_discapacidad").show(),o("#otra_discapacidad").prop("required",!0),a("div_otra_discapacidad")):(o("#div_otra_discapacidad").hide(),o("#otra_discapacidad").prop("required",!1),o("#otra_discapacidad").prop("value",""))}),o("#check_diagnostico").on("change",function(){o("#check_diagnostico").is(":checked")?(o("#div_descripcion_diagnostico").show(),o("#textarea_diagnostico").prop("required",!0)):(o("#div_descripcion_diagnostico").hide(),o("#textarea_diagnostico").prop("value",""),o("#textarea_diagnostico").prop("required",!1))}),o("#textarea_diagnostico").on("change",function(){let i=o("#textarea_diagnostico").val();document.getElementById("descrip_diagnostico").innerHTML=i}),o("#check_certificado_invalidez").on("change",function(){o("#check_certificado_invalidez").is(":checked")?(o("#div_porcentaje_inv").show(),o("#input_porcentaje_inv").prop("required",!0),a("div_porcentaje_inv")):(o("#div_porcentaje_inv").hide(),o("#input_porcentaje_inv").prop("required",!1),o("#input_porcentaje_inv").prop("value",""))}),o("#check_org").on("change",function(){o("#check_org").is(":checked")?(o("#div_organizacion_asociacion").show(),o("#input_org").prop("required",!0),a("div_organizacion_asociacion")):(o("#div_organizacion_asociacion").hide(),o("#input_org").prop("required",!1),o("#input_org").prop("value",""))}),o("#check_actividades_otros").on("change",function(){o("#check_actividades_otros").is(":checked")?(o("#div_actividades_otros_desc").show(),o("#input_actividades_otros").prop("required",!0),a("div_actividades_otros_desc")):(o("#div_actividades_otros_desc").hide(),o("#input_actividades_otros").prop("required",!1),o("#input_actividades_otros").prop("value",""))}),o("#check_apoyo_institu").on("change",function(){o("#check_apoyo_institu").is(":checked")?(o("#div_institucion_apoyo").show(),o("#input_institucion").prop("required",!0),o("#input_apoyo").prop("required",!0),a("div_institucion_apoyo")):(o("#div_institucion_apoyo").hide(),o("#input_institucion").prop("required",!1),o("#input_institucion").prop("value",""),o("#input_apoyo").prop("required",!1),o("#input_apoyo").prop("value",""))}),o("#cancel_ficha_discapacity").on("click",function(){swal({title:"Advertencia",text:"¿Está seguro(a) que desea revertir los cambios?",type:"warning",showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No",closeOnConfirm:!0},function(i){i&&(t(),o("html, body").animate({scrollTop:650},"slow"),o("#form_ficha_inicial").animate({scrollTop:0},"slow"),o("#btn_ficha_inicial_discapacity").empty(),o("#btn_ficha_inicial_discapacity").append('Ficha inicial <span class="caret"></span> <strong> (Visualización) </strong>'),o("#save_ficha_discapacity").parent().hide(),o("#cancel_ficha_discapacity").parent().hide())})}),o("#save_ficha_discapacity").on("click",function(){let t,e,a,n,c,r,p,u,l,h,f,y,v,k,b,g,m,j,x,q,w,E,z,T,O,N,A,C,S,B,I,F,J,M,P,H,L,D,R,V,G,K,Q,U,W,X,Y,Z,$,ii,oi,ti,ei,ai="";var ni,ci,ri,pi,di,si,_i,ui,li,hi,fi,yi,vi,ki,bi,gi,mi,ji,xi,qi,wi;let Ei=[],zi=[],Ti=[],Oi=[],Ni=[];var Ai;ti={key_percepcion:ai=o("#div_percepcion_estudiante").find(":input[type=radio]:checked").attr("id"),descripcion:ei=o("#textarea_percepcion").val()},t=o("#cond_adquisicion").val(),G=o("#cond_adquisicion").attr("id");let Ci=[];o("#cond_adquisicion").find(":selected").each(function(){o(this).css("background","lightslategrey"),Ci.push(o(this).text())}),o("#cond_adquisicion option:not(:selected)").each(function(){o(this).css("background","white")}),K={key_condicion:G,condicion:Ci},t.includes("0")&&(k=o("#otro_cond_adquisicion").attr("id"),r=o("#otro_cond_adquisicion").val(),K.key_otra_condicion=k,K.otra_condicion=r),u=o("#tipo_discapacidad").val(),C=o("#tipo_discapacidad").attr("id");let Si=[];o("#tipo_discapacidad").find(":selected").each(function(){o(this).css("background","lightslategrey"),Si.push(o(this).text())}),o("#tipo_discapacidad option:not(:selected)").each(function(){o(this).css("background","white")}),B={key_tipo:C,tipo_discapacidad:Si},u.includes("0")&&(l=o("#otra_discapacidad").val(),S=o("#otra_discapacidad").attr("id"),B.key_otro_tipo=S,B.otro_tipo=l),O=o("#check_diagnostico").is(":checked"),A={key_diagnostico:N=o("#check_diagnostico").attr("id")},O?(p=o("#textarea_diagnostico").val(),T=o("#textarea_diagnostico").attr("id"),A.tiene_diagnostico=1,A.key_descripcion=T,A.descripcion=p):A.tiene_diagnostico=0,I=o("#check_certificado_invalidez").is(":checked"),J={key_certificado:F=o("#check_certificado_invalidez").attr("id")},I?(M=o("#input_porcentaje_inv").attr("id"),x=parseInt(o("#input_porcentaje_inv").val()),J.tiene_certificado=1,J.key_porcentaje=M,J.porcentaje=x):J.tiene_certificado=0,o("#div_dificultad_permanente").find(":input[type=checkbox]").each(function(){o(this).is(":checked")&&(ni=o(this).attr("id"),ri=o(this).attr("title"),pi=o(this).parent().find(":input[type=text]").val(),ci=o(this).parent().find(":input[type=text]").attr("id"),U={key_funcion:ni,funcion:ri,key_dificultad:ci,dificultad:pi},Ei.push(U))}),o("#div_cond_salud").find(":input[type=checkbox]").each(function(){o(this).is(":checked")&&(di=o(this).attr("id"),_i=o(this).attr("title"),ui=o(this).parent().find(":input[type=text]").val(),si=o(this).parent().find(":input[type=text]").attr("id"),W={key_organo:di,organo:_i,key_condicion:si,condicion:ui},zi.push(W))}),o("#div_necesidades").find(":input[type=checkbox]").each(function(){o(this).is(":checked")&&(hi=o(this).attr("id"),situacion_name=o(this).attr("title"),necesidad_name=o(this).parent().find(":input[type=text]").val(),li=o(this).parent().find(":input[type=text]").attr("id"),X={key_situacion:hi,situacion:situacion_name,key_necesidad:li,necesidad:necesidad_name},Ti.push(X))}),o("#div_factor_impacto").find(":input[type=checkbox]").each(function(){o(this).is(":checked")&&(fi=o(this).attr("id"),yi=o(this).attr("title"),Y={key_factor:fi,escenario:yi},"Otra ¿Cuál?"!=yi&&"Otros, ¿cuáles?"!=yi||(ki=o(this).parent().find(":input[type=text]").val(),vi=o(this).parent().find("input[type=text]").attr("id"),Y.key_otro_factor=vi,Y.otro_factor=ki),Oi.push(Y))}),o("#div_posibilidades_condiciones").find(":input[type=checkbox]").each(function(){o(this).is(":checked")&&("check_otra_posibilidad"==o(this).attr("id")?(bi=o(this).attr("id"),gi=o(this).attr("title"),mi=o("#input_posib_otro").val(),key_pos_pa=o("#input_posib_otro").attr("id"),ji=o("#input_tipo_otro").attr("id"),xi=o("#input_tipo_otro").val(),qi=o("#input_otro1").attr("id"),wi=o("#input_otro1").val()):(bi=o(this).attr("id"),gi=o(this).attr("title"),mi=o(this).parent().find(":input[type=text]").not(".input_apoyo").val(),key_pos_pa=o(this).parent().find(":input[type=text]").not(".input_apoyo").attr("id"),ji=o(this).parent().find(":input[name=input_apoyo]").attr("id"),xi=o(this).parent().find(":input[name=input_apoyo]").val()),Z={key_actividad:bi,actividad:gi,key_posibilidad:key_pos_pa,posibilidad:mi,key_apoyo:ji,tipo_apoyo:xi},"check_otra_posibilidad"==o(this).attr("id")&&(Z.key_otra_actividad=qi,Z.otra_actividad=wi),Ni.push(Z))}),e=o("#opciones_apoyo").find(":input[type=radio]:checked").val(),$={key_apoyo:n=o("#opciones_apoyo").find(":input[type=radio]:checked").attr("id"),apoyo_cotidiano:e},"Otro"==e&&(c=o("#input_otro_apoyo").attr("id"),a=o("#input_otro_apoyo").val(),$.key_otro_apoyo=c,$.otro_apoyo=a),h=o("#opciones_transporte").find(":input[type=radio]:checked").val(),ii={key_transoporte:y=o("#opciones_transporte").find(":input[type=radio]:checked").attr("id"),transporte:h},"Otro"==h&&(v=o("#input_otro_transporte").attr("id"),f=o("#input_otro_transporte").val(),ii.key_otro_transporte=v,ii.otro_transporte=f),b=o("#check_org").is(":checked"),oi={key_participa:g=o("#check_org").attr("id")},b?(m=o("#input_org").val(),j=o("#input_org").attr("id"),oi.participa=1,oi.key_asociacion=j,oi.asociacion=m):oi.participa=0,z=o("#check_actividades_otros").is(":checked"),E=o("#check_actividades_otros").attr("id"),json_actividades_otros={key_realiza:E},z?(q=o("#input_actividades_otros").val(),w=o("#input_actividades_otros").attr("id"),json_actividades_otros.realiza=1,json_actividades_otros.key_actividad=w,json_actividades_otros.actividad=q):json_actividades_otros.realiza=0,P=o("#check_apoyo_institu").is(":checked"),Q={key_apoya:H=o("#check_apoyo_institu").attr("id")},P?(L=o("#input_apoyo").val(),D=o("#input_apoyo").attr("id"),Q.apoyo=1,Q.key_apoyo_institu=D,Q.apoyo_institu=L,R=o("#input_institucion").val(),V=o("#input_institucion").attr("id"),Q.key_institucion=V,Q.institucion=R):Q.apoyo=0;var Bi=function(o){var t=new Object;for(i in t.title="Éxito",t.msg="El formulario fue validado con éxito",t.status="success",o)switch(i){case"percepcion_discapacidad":let e=o[i];for(op in e)if("key_percepcion"==op&&void 0===e[op])return t.title="Percepción de discapacidad",t.status="error",t.msg="El campo "+op+" de adquisición es obligatorio",t;break;case"condicion_adquisicion":let a=o[i];for(op in a)if("otra_condicion"==op){if(""==a[op])return t.title="Condición de adquisición",t.status="error",t.msg="El campo "+op+" de adquisición es obligatorio",t;if(d(a[op]))return t.title="Condición de adquisición",t.status="error",t.msg="El campo "+op+" de adquisición no debe contener números",t}break;case"diagnostico_discapacidad":let n=o[i];for(op in n)if("descripcion"==op&&""==n[op])return t.title="Diagnóstico de discapacidad",t.status="error",t.msg="El campo "+op+" diagnóstico es obligatorio",t;break;case"tipo_discapacidad":let c=o[i];for(op in c)if("otro_tipo"==op){if(""==c[op])return t.title="Tipo de discapacidad",t.status="error",t.msg="El campo "+op+" de discapacidad es obligatorio",t;if(d(c[op]))return t.title="Tipo de discapacidad",t.status="error",t.msg="El campo "+op+" de discapacidad no debe contener números",t}break;case"certificado_invalidez":let r=o[i];for(op in r)if("porcentaje"==op){if(""==r[op])return t.title="Certificado de invalidez",t.status="error",t.msg="El campo "+op+" es obligatorio",t;if(r[op]<0)return t.title="Certificado de invalidez",t.status="error",t.msg="El campo "+op+" no debe ser negativo",t;if(Number.isNaN(r[op]))return t.title="Certificado de invalidez",t.status="error",t.msg="El campo "+op+" debe ser numérico",t}break;case"dificultad_permanente_funciones":let p,s=o[i];for(item in s)for(op in p=s[item])if("dificultad"==op&&""==p[op])return t.title="Dificultades permanentes",t.status="error",t.msg="El campo "+op+" de la opción '"+p.funcion+"' es obligatorio",t;break;case"condicion_salud_organos":let _,u=o[i];for(item in u)for(op in _=u[item])if("condicion"==op&&""==_[op])return t.title="Condiciones de salud",t.status="error",t.msg="El campo "+op+" de la opción '"+_.organo+"' es obligatorio",t;break;case"necesidades_situaciones":let l,h=o[i];for(item in h)for(op in l=h[item])if("necesidad"==op&&""==l[op])return t.title="Necesidades situaciones",t.status="error",t.msg="El campo "+op+" de la opción '"+l.situacion+"' es obligatorio",t;break;case"factores_impacto":let f,y=o[i];for(item in y)for(op in f=y[item])if("otro_factor"==op&&""==f[op])return t.title="Factores de impacto",t.status="error",t.msg="El campo "+op+" de la opción '"+f.escenario+"' es obligatorio",t;break;case"posibilidad_actividades":let v,k=o[i];for(item in k)for(op in v=k[item])if(("otra_actividad"==op||"posibilidad"==op||"tipo_apoyo"==op)&&""==v[op])return t.title="Posibilidades en actividades",t.status="error",t.msg="El campo "+op+" de la opción '"+v.actividad+"' es obligatorio",t;break;case"apoyo_principal_cotidiano":let b=o[i];if("{}"==JSON.stringify(b))return t.title="Apoyo principal",t.status="error",t.msg="El campo apoyo principal es obligatorio",t;for(op in b)if("otro_apoyo"==op&&""==b[op])return t.title="Apoyo principal",t.status="error",t.msg="El campo "+op+" de la opción '"+b.apoyo_cotidiano+"' es obligatorio",t;break;case"medio_transporte":let g=o[i];if("{}"==JSON.stringify(g))return t.title="Medio de transporte",t.status="error",t.msg="El campo medio de transporte es obligatorio",t;for(op in g)if("otro_transporte"==op&&""==g[op])return t.title="Medio de transporte",t.status="error",t.msg="El campo "+op+" de la opción '"+g.transporte+"' es obligatorio",t;break;case"participa_asociacion":let m=o[i];for(op in m)if("asociacion"==op&&""==m[op])return t.title="Participación en organización/asociación",t.status="error",t.msg="El campo "+op+" es obligatorio",t;break;case"actividades_otros":let j=o[i];for(op in j)if("actividad"==op&&""==j[op])return t.title="Actividades con otros",t.status="error",t.msg="El campo "+op+" es obligatorio",t;break;case"apoyo_institucion":let x=o[i];for(op in x)if(("apoyo_institu"==op||"institucion"==op)&&""==x[op])return t.title="Apoyo institución",t.status="error",t.msg="El campo "+op+" es obligatorio",t}return t}(Ai={percepcion_discapacidad:ti,condicion_adquisicion:K,diagnostico_discapacidad:A,tipo_discapacidad:B,certificado_invalidez:J,dificultad_permanente_funciones:Ei,condicion_salud_organos:zi,necesidades_situaciones:Ti,posibilidad_actividades:Ni,factores_impacto:Oi,apoyo_principal_cotidiano:$,medio_transporte:ii,participa_asociacion:oi,actividades_otros:json_actividades_otros,apoyo_institucion:Q});if("error"==Bi.status)swal(Bi.title,Bi.msg,Bi.status);else{var Ii=Ai;!function(i,t){let e=o("#input_json_saved").val();o.ajax({type:"POST",data:{func:"validate_json",json:i,json_prev:e,ases:t,instanceid:s(),courseid:_(),id_schema:1},url:"../managers/student_profile/others_tab_api.php",success:function(t){swal({title:t.title,text:t.msg,type:t.status},function(){o("html, body").animate({scrollTop:650},"slow"),o("#form_ficha_inicial").animate({scrollTop:0},"slow")}),o("#input_json_saved").attr("value",i)},dataType:"json",cache:"false",error:function(i){swal(i.title,i.msg,i.status)}})}(Ii=JSON.stringify(Ii),o("#id_ases").val())}})}}});